<!-- Generated by staticdocs: do not edit by hand -->
<html>
  <head>
  <meta charset="utf-8">
<title>calcSpeciesAverageInPus. raptr</title>

<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha256-cCueBR6CsyA4/9szpPfrX3s49M9vUU5BgtiJj06wt/s=" crossorigin="anonymous"></script>

<!-- Bootstrap -->
<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>



<!-- staticdocs -->
<link href="../staticdocs.css" rel="stylesheet">

<!-- mathjax -->
<script src='https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
  <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
  </head>

  <body>
    <div class="container">
        <header>
        
<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">raptr</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">Home</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/index.html">Articles</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/paleo13/raptr">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->
        
        </header>

        <div class="page-header">
  <h1>Calculate average value for species data in planning units</h1>
</div>

<div class="row">
  <div class="col-md-9">
    
    <p>This function calculates the average of species values in each planning unit.
Be aware that using polygons with overlaps will result in inaccuracies.
By default all polygons will be treated as having separate ids.</p>
    

    <pre><span class='fu'>calcSpeciesAverageInPus</span>(<span class='no'>x</span>, <span class='no'>...</span>)

<span class='co'># S3 method for SpatialPolygons</span>
<span class='fu'>calcSpeciesAverageInPus</span>(<span class='no'>x</span>, <span class='no'>y</span>,
  <span class='kw'>ids</span> <span class='kw'>=</span> <span class='fu'>seq_len</span>(<span class='fu'>nlayers</span>(<span class='no'>y</span>)), <span class='kw'>ncores</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>gdal</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='no'>...</span>)

<span class='co'># S3 method for SpatialPolygonsDataFrame</span>
<span class='fu'>calcSpeciesAverageInPus</span>(<span class='no'>x</span>, <span class='no'>y</span>,
  <span class='kw'>ids</span> <span class='kw'>=</span> <span class='fu'>seq_len</span>(<span class='fu'>nlayers</span>(<span class='no'>y</span>)), <span class='kw'>ncores</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>gdal</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>field</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='no'>...</span>)</pre>
    
    <h2>Arguments</h2>
    <dl class="dl-horizontal">
      <dt>x</dt>
      <dd>&quot;SpatialPolygons&quot; or &quot;SpatialPolygonsDataFrame&quot; object.</dd>
      <dt>...</dt>
      <dd>not used.</dd>
      <dt>y</dt>
      <dd>&quot;RasterLayer&quot;, &quot;RasterStack&quot;, or &quot;RasterBrick&quot; object.</dd>
      <dt>ids</dt>
      <dd>&quot;integer&quot; vector of ids. Defaults to indices of layers in the <code>y</code>.</dd>
      <dt>ncores</dt>
      <dd>&quot;integer&quot; Number of cores to use for processing. Defaults to 1.</dd>
      <dt>gdal</dt>
      <dd>&quot;logical&quot; Should raster processing be performed using GDAL libraries? Defaults to <code>FALSE</code>.</dd>
      <dt>field</dt>
      <dd>&quot;character&quot; &quot;integer&quot; index or &quot;character&quot; name of column with planning unit ids. Valid only for &quot;SpatialPolygonsDataFrame&quot; objects. Default behaviour is to treat each polygon as a different planning unit.</dd>
    </dl>
    
    <div class="Value">
      <h2>Value</h2>

      <p>data.frame with sum of raster values in each polygon.</p>
    </div>

    <div class="See also">
      <h2>See also</h2>

      <p><code>is.gdalInstalled</code>, <a href = 'http://www.gdal.org/'>http://www.gdal.org/</a>, <a href = 'http://trac.osgeo.org/gdal/wiki/DownloadingGdalBinaries'>http://trac.osgeo.org/gdal/wiki/DownloadingGdalBinaries</a>.</p>
    </div>
    
    <h2 id="examples">Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># simulate data</span>
<span class='no'>sim_pus</span> <span class='kw'>&lt;-</span> <span class='fu'>sim.pus</span>(<span class='fl'>225L</span>)
<span class='no'>sim_spp</span> <span class='kw'>&lt;-</span> <span class='fu'>lapply</span>(<span class='fu'>c</span>(<span class='st'>'uniform'</span>,<span class='st'>'normal'</span>,<span class='st'>'bimodal'</span>), <span class='no'>sim.species</span>, <span class='kw'>n</span><span class='kw'>=</span><span class='fl'>1</span>, <span class='kw'>res</span><span class='kw'>=</span><span class='fl'>1</span>, <span class='kw'>x</span><span class='kw'>=</span><span class='no'>sim_pus</span>)
<span class='co'># calculate average for 1 species</span>
<span class='no'>puvspr1.dat</span> <span class='kw'>&lt;-</span> <span class='fu'>calcSpeciesAverageInPus</span>(<span class='no'>sim_pus</span>, <span class='no'>sim_spp</span><span class='kw'>[[</span><span class='fl'>1</span>]])
<span class='co'># calculate average for multiple species</span>
<span class='no'>puvspr2.dat</span> <span class='kw'>&lt;-</span> <span class='fu'>calcSpeciesAverageInPus</span>(<span class='no'>sim_pus</span>, <span class='fu'>stack</span>(<span class='no'>sim_spp</span>))</div></pre>
  </div>
  <div class="col-md-3">
  </div>
</div>

        <footer>
        <p>Built by <a href="http://hadley.github.io/staticdocs/">staticdocs</a>. Styled with <a href="http://getbootstrap.com">Bootstrap 3</a>.</p>
        </footer>
   </div>

  </body>
</html>
