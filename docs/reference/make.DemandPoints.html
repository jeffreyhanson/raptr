<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Generate demand points for RAP — make.DemandPoints • raptr</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/cerulean/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>

<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">raptr</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/index.html">Articles</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/jeffreyhanson/raptr">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Generate demand points for RAP</h1>
    </div>

    
    <p>This function generates demand points to characterize a distribution of
points.</p>
    

    <pre class="usage"><span class='fu'>make.DemandPoints</span>(<span class='no'>points</span>, <span class='kw'>n</span> <span class='kw'>=</span> <span class='fl'>100L</span>, <span class='kw'>quantile</span> <span class='kw'>=</span> <span class='fl'>0.5</span>,
  <span class='kw'>kernel.method</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"ks"</span>, <span class='st'>"hypervolume"</span>)[<span class='fl'>1</span>], <span class='no'>...</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>points</th>
      <td><p><code><a href='http://www.rdocumentation.org/packages/base/topics/matrix'>matrix</a></code> object containing points.</p></td>
    </tr>
    <tr>
      <th>n</th>
      <td><p><code>integer</code> number of demand points to use for each attribute
space for each species. Defaults to <code>100L</code>.</p></td>
    </tr>
    <tr>
      <th>quantile</th>
      <td><p><code>numeric</code> quantile to generate demand points within. If
0 then demand points are generated across the full range of values the
<code>points</code> intersect. Defaults to <code>0.5</code>.</p></td>
    </tr>
    <tr>
      <th>kernel.method</th>
      <td><p><code>character</code> name of kernel method to use to
generate demand points. Defaults to <code>'ks'</code>.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>arguments passed to kernel density estimating functions</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p><code><a href='DemandPoints.html'>DemandPoints</a></code> object.</p>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Broadly speaking, demand points are generated by fitting a kernal
  to the input <code>points</code>. A shape is then fit to the extent of
  the kernal, and then points are randomly generated inside the shape. The
  demand points are generated as random points inside the shape. The weights
  for each demand point are calculated the estimated density of input points
  at the demand point. By supplying 'ks' as an argument to <code>method</code> in
  <code>kernel.method</code>, the shape is defined using a minimum convex polygon
  <code><a href='http://www.rdocumentation.org/packages/adehabitatHR/topics/mcp'>mcp</a></code> and <code><a href='http://www.rdocumentation.org/packages/ks/topics/kde'>kde</a></code> is used to fit
  the kernel. Note this can only be used when the data is low-dimensional (d
  &lt; 3). By supplying <code>"hypervolume"</code> as an argument to <code>method</code>,
  the <code><a href='http://www.rdocumentation.org/packages/hypervolume/topics/hypervolume'>hypervolume</a></code> function is used to create the
  demand points. This method can be used for hyper-dimensional data
  (\(d &lt;&lt; 3\)).</p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <p><code><a href='http://www.rdocumentation.org/packages/hypervolume/topics/hypervolume'>hypervolume</a></code>, <code><a href='http://www.rdocumentation.org/packages/ks/topics/kde'>kde</a></code>,
  <code><a href='http://www.rdocumentation.org/packages/adehabitatHR/topics/mcp'>mcp</a></code>.</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># load data</span>
<span class='fu'>data</span>(<span class='no'>cs_spp</span>, <span class='no'>cs_space</span>)

<span class='co'># generate species points</span>
<span class='no'>species.points</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='randomPoints.html'>randomPoints</a></span>(<span class='no'>cs_spp</span><span class='kw'>[[</span><span class='fl'>1</span>]], <span class='kw'>n</span> <span class='kw'>=</span> <span class='fl'>100</span>, <span class='kw'>prob</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)
<span class='no'>env.points</span> <span class='kw'>&lt;-</span> <span class='kw'>raster</span><span class='kw'>::</span><span class='fu'>extract</span>(<span class='no'>cs_space</span>, <span class='no'>species.points</span>)

<span class='co'># generate demand points for a 1d space using ks</span>
<span class='no'>dps1</span> <span class='kw'>&lt;-</span> <span class='fu'>make.DemandPoints</span>(<span class='kw'>points</span> <span class='kw'>=</span> <span class='no'>env.points</span>[,<span class='fl'>1</span>], <span class='kw'>kernel.method</span> <span class='kw'>=</span> <span class='st'>"ks"</span>)

<span class='co'># generate demand points for a 2d space using hypervolume</span>
<span class='no'>dps2</span> <span class='kw'>&lt;-</span> <span class='fu'>make.DemandPoints</span>(<span class='kw'>points</span> <span class='kw'>=</span> <span class='no'>env.points</span>,
                          <span class='kw'>kernel.method</span> <span class='kw'>=</span> <span class='st'>"hypervolume"</span>,
                          <span class='kw'>samples.per.point</span> <span class='kw'>=</span> <span class='fl'>10</span>)</div><div class='output co'>#&gt; 
#&gt; Building tree... 
#&gt; done.
#&gt; Ball query... 
#&gt; 
#&gt; done.
#&gt; Requested probability quantile 0.500000, obtained 0.498253 - setting threshold value 0.082423.
#&gt;  For a closer match, you can increase num.thresholds in hypervolume_threshold.</div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by <a href='http://jeffrey-hanson.com'>Jeffrey O Hanson</a>, <a href='https://rhodesconservation.com/people/jonathan-rhodes/'>Jonathan R Rhodes</a>, <a href='http://www.possinghamlab.org/people-new/all-lab-members/570-hugh-possingham.html'>Hugh P Possingham</a>, <a href='https://www.fullerlab.org/drrichardfuller/'>Richard A Fuller</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
