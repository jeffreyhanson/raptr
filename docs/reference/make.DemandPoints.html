<!-- Generated by staticdocs: do not edit by hand -->
<html>
  <head>
  <meta charset="utf-8">
<title>make.DemandPoints. raptr</title>

<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha256-cCueBR6CsyA4/9szpPfrX3s49M9vUU5BgtiJj06wt/s=" crossorigin="anonymous"></script>

<!-- Bootstrap -->
<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>



<!-- staticdocs -->
<link href="../staticdocs.css" rel="stylesheet">

<!-- mathjax -->
<script src='https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
  <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
  </head>

  <body>
    <div class="container">
        <header>
        
<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">raptr</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">Home</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/index.html">Articles</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/jeffreyhanson/raptr">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->
        
        </header>

        <div class="page-header">
  <h1>Generate demand points for RAP</h1>
</div>

<div class="row">
  <div class="col-md-9">
    
    <p>This function generates demand points for RAP using kernels.</p>
    

    <pre><span class='fu'>make.DemandPoints</span>(<span class='no'>points</span>, <span class='kw'>n</span> <span class='kw'>=</span> <span class='fl'>100L</span>, <span class='kw'>quantile</span> <span class='kw'>=</span> <span class='fl'>0.5</span>,
  <span class='kw'>kernel.method</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"ks"</span>, <span class='st'>"hypervolume"</span>)[<span class='fl'>1</span>], <span class='no'>...</span>)</pre>
    
    <h2>Arguments</h2>
    <dl class="dl-horizontal">
      <dt>points</dt>
      <dd><code>SpatialPointsDataFrame</code> or <code>SpatialPoints</code> with species presence records.</dd>
      <dt>n</dt>
      <dd><code>integer</code> number of demand points to use for each attribute space for each species. Defaults to 100L.</dd>
      <dt>quantile</dt>
      <dd><code>numeric</code> quantile to generate demand points within. If 0 then demand points are generated across the full range of values the <code>points</code> intersect. Defaults to 0.5.</dd>
      <dt>kernel.method</dt>
      <dd><code>character</code> name of kernel method to use to generate demand points. Defaults to &#39;ks&#39;.</dd>
      <dt>...</dt>
      <dd>arguments passed to kernel density estimating functions</dd>
    </dl>
    
    <div class="Value">
      <h2>Value</h2>

      <p><code>DemandPoints</code> object.</p>
    </div>

    <div class="Details">
      <h2>Details</h2>

      <p>The values of the species records in the rasters is extracted. A kernel is fit to the points in the attribute space. 
Volumes are then fit to the points in the attribute space(s). Points are randomly generated inside the volume. Demand points are generated
as random points inside the volume. A kernel is fit to the species records and used to predict the density at each of the demand points.
By using &#39;ks&#39; as an argument in <code>kernel.method</code>, the volume is fit as a minimum convex polygon using <code><a href='http://www.rdocumentation.org/packages/mcp/topics/adehabitatHR'>mcp</a></code> and 
<code><a href='http://www.rdocumentation.org/packages/kde/topics/ks'>kde</a></code> is used to fit the kernel. Note this can only be used when the data is low-dimensional (d&lt;3). By using
&#39;hypervolume&#39; as an argument, the <code><a href='http://www.rdocumentation.org/packages/hypervolume/topics/hypervolume'>hypervolume</a></code> function is used. This can be used for hyper-dimensional data.</p>
    </div>

    <div class="See also">
      <h2>See also</h2>

      <p><code><a href='http://www.rdocumentation.org/packages/hypervolume/topics/hypervolume'>hypervolume</a></code>, <code><a href='http://www.rdocumentation.org/packages/kde/topics/ks'>kde</a></code>, <code><a href='http://www.rdocumentation.org/packages/mcp/topics/adehabitatHR'>mcp</a></code>.</p>
    </div>
    
    <h2 id="examples">Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'>data</span>(<span class='no'>cs_spp</span>, <span class='no'>cs_space</span>)
<span class='co'># generate species points</span>
<span class='no'>species.points</span> <span class='kw'>&lt;-</span> <span class='fu'>randomPoints</span>(<span class='no'>cs_spp</span><span class='kw'>[[</span><span class='fl'>1</span>]], <span class='kw'>n</span><span class='kw'>=</span><span class='fl'>100</span>, <span class='kw'>prob</span><span class='kw'>=</span><span class='fl'>TRUE</span>)
<span class='no'>env.points</span> <span class='kw'>&lt;-</span> <span class='fu'>extract</span>(<span class='no'>cs_space</span>, <span class='no'>species.points</span>)
<span class='co'># generate demand points for a 1d space using ks</span>
<span class='no'>dps1</span> <span class='kw'>&lt;-</span> <span class='fu'>make.DemandPoints</span>(
<span class='kw'>points</span><span class='kw'>=</span><span class='no'>env.points</span>[,<span class='fl'>1</span>],
<span class='kw'>kernel.method</span><span class='kw'>=</span><span class='st'>'ks'</span>
)
<span class='co'># generate demand points for a 2d space using hypervolume</span>
<span class='no'>dps2</span> <span class='kw'>&lt;-</span> <span class='fu'>make.DemandPoints</span>(
<span class='kw'>points</span><span class='kw'>=</span><span class='no'>env.points</span>,
<span class='kw'>kernel.method</span><span class='kw'>=</span><span class='st'>'hypervolume'</span>
)</div><div class='output co'>#&gt; Evaluating probability density...
#&gt; Building tree... done.
#&gt; Querying tree... 1e-05  0.10001  0.20001  0.30001  0.40001  0.50001  0.60001  0.70001  0.80001  0.90001  done.
#&gt; Finished evaluating probability density.
#&gt; Beginning volume calculation... done. 
#&gt; Quantile requested: 0.50   obtained: 0.48
#&gt; </div></pre>
  </div>
  <div class="col-md-3">
  </div>
</div>

        <footer>
        <p>Built by <a href="http://hadley.github.io/staticdocs/">staticdocs</a>. Styled with <a href="http://getbootstrap.com">Bootstrap 3</a>.</p>
        </footer>
   </div>

  </body>
</html>
